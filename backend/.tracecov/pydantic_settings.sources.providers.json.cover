    1: """JSON file settings source."""
       
    1: from __future__ import annotations as _annotations
       
    1: import json
    1: from pathlib import Path
    1: from typing import (
           TYPE_CHECKING,
           Any,
       )
       
    1: from ..base import ConfigFileSourceMixin, InitSettingsSource
    1: from ..types import DEFAULT_PATH, PathType
       
    1: if TYPE_CHECKING:
>>>>>>     from pydantic_settings.main import BaseSettings
       
       
    2: class JsonConfigSettingsSource(InitSettingsSource, ConfigFileSourceMixin):
    1:     """
           A source class that loads variables from a JSON file
           """
       
    4:     def __init__(
               self,
    1:         settings_cls: type[BaseSettings],
    2:         json_file: PathType | None = DEFAULT_PATH,
    2:         json_file_encoding: str | None = None,
           ):
>>>>>>         self.json_file_path = json_file if json_file != DEFAULT_PATH else settings_cls.model_config.get('json_file')
>>>>>>         self.json_file_encoding = (
>>>>>>             json_file_encoding
>>>>>>             if json_file_encoding is not None
>>>>>>             else settings_cls.model_config.get('json_file_encoding')
               )
>>>>>>         self.json_data = self._read_files(self.json_file_path)
>>>>>>         super().__init__(settings_cls, self.json_data)
       
    1:     def _read_file(self, file_path: Path) -> dict[str, Any]:
>>>>>>         with open(file_path, encoding=self.json_file_encoding) as json_file:
>>>>>>             return json.load(json_file)
       
    1:     def __repr__(self) -> str:
>>>>>>         return f'{self.__class__.__name__}(json_file={self.json_file_path})'
       
       
    1: __all__ = ['JsonConfigSettingsSource']
